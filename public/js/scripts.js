/* Menu array */
var menu = [
    {
        "id": "0",
        "name": "KushCo OG",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$55",
        "fourthprice": "$110",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "1",
        "name": "Skywalker OG",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$45",
        "fourthprice": "$90",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "2",
        "name": "Holy Grail OG",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "- - -",
        "ozprice": "- - -"
    },
    {
        "id": "3",
        "name": "Pure OG",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$35",
        "fourthprice": "$65",
        "halfprice": "$120",
        "ozprice": "$200"
    },
    {
        "id": "4",
        "name": "Pineapple Express",
        "type": "sativa",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$45",
        "fourthprice": "$90",
        "halfprice": "$160",
        "ozprice": "- - -"
    },
    {
        "id": "5",
        "name": "Baby Blue",
        "type": "sativa",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$45",
        "fourthprice": "$90",
        "halfprice": "$160",
        "ozprice": "$260"
    },
    {
        "id": "6",
        "name": "Banana Split",
        "type": "sativa",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$45",
        "fourthprice": "$90",
        "halfprice": "- - -",
        "ozprice": "- - -"
    },
    {
        "id": "7",
        "name": "Strawberry Banana",
        "type": "sativa",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "$150",
        "ozprice": "- - -"
    },
    {
        "id": "8",
        "name": "Supreme Blue Dream",
        "type": "sativa",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "$140",
        "ozprice": "$260"
    },
    {
        "id": "9",
        "name": "Thin Mint",
        "type": "Hybrid",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "$140",
        "ozprice": "- - -"
    },
    {
        "id": "10",
        "name": "Forum Cookies",
        "type": "Hybrid",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "$140",
        "ozprice": "- - -"
    },
    {
        "id": "11",
        "name": "Purple Kryptonite",
        "type": "Hybrid",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "$150",
        "ozprice": "$260"
    },
    {
        "id": "12",
        "name": "Nug Run - White Walker (Shatter)",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$26",
        "oneprice": "$48",
        "twoprice": "$92"
    },
    {
        "id": "13",
        "name": "Skywalker OG Shatter",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$45",
        "twoprice": "$85"
    },
    {
        "id": "14",
        "name": "Green Crack Shatter",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$45",
        "twoprice": "$85"
    },
    {
        "id": "15",
        "name": "Animal Spirits - Holy Grail OG Vape Cartridge",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$40",
        "twoprice": "$92"
    },
    {
        "id": "16",
        "name": "Animal Spirits - Girl Scout Cookies Vape Cartridge",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$40",
        "twoprice": "- - -"
    },
    {
        "id": "17",
        "name": "Animal Spirits - Blue Dream Vape Cartridge",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$40",
        "twoprice": "$80"
    },
    {
        "id": "18",
        "name": "Blue Dream Shatter",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$45",
        "twoprice": "$85"
    },
    {
        "id": "19",
        "name": "Brass Knuckles - Jack Herer",
        "type": "sativa concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "20",
        "name": "Brass Knuckles - Strawberry Cough",
        "type": "sativa concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "21",
        "name": "Brass Knuckles - Candy Apple",
        "type": "hybrid concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "22",
        "name": "Brass Knuckles - Blue Dream",
        "type": "sativa concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "23",
        "name": "Brass Knuckles - Gorilla Glue",
        "type": "hybrid concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "24",
        "name": "Brass Knuckles - Girl Scout Cookies",
        "type": "hybrid concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "25",
        "name": "Brass Knuckles - Raw",
        "type": "hybrid concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "26",
        "name": "Brass Knuckles - Abracadabra",
        "type": "hybrid concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "27",
        "name": "Brass Knuckles - Blueberry",
        "type": "indica concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "28",
        "name": "Brass Knuckles - Grape Ape",
        "type": "indica concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "29",
        "name": "Brass Knuckles - Purple Haze",
        "type": "sativa concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "30",
        "name": "Brass Knuckles - SFV OG",
        "type": "indica concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "31",
        "name": "Brass Knuckles - Skywalker OG",
        "type": "indica concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -"
    },
    {
        "id": "32",
        "name": "Kiva - Ginger Dark Chocolate",
        "type": "edible",
        "per": "each",
        "price": "$32"
    },
    {
        "id": "33",
        "name": "Kiva Bar - 4 Flavors",
        "type": "edible",
        "per": "each",
        "price": "$20"
    },
    {
        "id": "34",
        "name": "Kiva - Expresso Dark Chocolate",
        "type": "edible",
        "per": "each",
        "price": "$20"
    },
    {
        "id": "35",
        "name": "Kiva - Terra Bites - Expresso Beans",
        "type": "edible",
        "per": "each",
        "price": "$18"
    },
    {
        "id": "36",
        "name": "Kiva - Terra Bites - Blueberries",
        "type": "edible",
        "per": "each",
        "price": "$18"
    },
    {
        "id": "37",
        "name": "Kiva Bar",
        "type": "edible",
        "per": "each",
        "price": "$18"
    },
    {
        "id": "38",
        "name": "HealthCare Bar - Vegan",
        "type": "edible",
        "per": "each",
        "price": "$10"
    },
    {
        "id": "39",
        "name": "Brass Knuckes - Adjustable Voltage Gold Battery",
        "type": "gear",
        "per": "each",
        "price": "$30"
    },
    {
        "id": "40",
        "name": "Brass Knuckes - Gold Vape Battery",
        "type": "gear",
        "per": "each",
        "price": "$25"
    },
    {
        "id": "41",
        "name": "Brass Knuckes - Woodgrain Battery",
        "type": "gear",
        "per": "each",
        "price": "$25"
    },
    {
        "id": "42",
        "name": "Mulholland OG",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$55",
        "fourthprice": "$110",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "43",
        "name": "Girl Scout Cookies",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$45",
        "fourthprice": "$90",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "44",
        "name": "White Walker",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "45",
        "name": "Sunset Sherbet",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$35",
        "fourthprice": "$65",
        "halfprice": "$120",
        "ozprice": "$200",
        "description": "hella dank"
    }
];

/* Opens home */
function home() {
    window.location.href = "/";
}

/* Opens Product Modal */
function openProductModal(id) {
    var item = menu[id];
    var name = $('#product-modal-name');
    var itemOptions = $('#item-options');

    name.html(item.name);

    if (item.description) {
        var i = "<p id=\"product-modal-desc\" class=\"body-modal-text\">" + item.description + "</p>";
        name.after(i);
    }

    if (item.type) {
        var h = "<p id=\"product-modal-strain\" class=\"strains-modal-text " + item.type + "\">" + item.type + "</p>";
        name.after(h);
    }

    if (item.eighth) {
        var a = "<span id=\"product-modal-eighth\" class=\"quantity measurements prices-text\">" + item.eighth + "<br>" + item.eighthprice + "</span>";
        itemOptions.replaceAll(a,a);
    }

    if (item.fourth) {
        var b = "<span id=\"product-modal-fourth\" class=\"quantity measurements prices-text\">" + item.fourth + "<br>" + item.fourthprice + "</span>";
        itemOptions.replace(b);
    }

    if (item.half) {
        var c = "<span id=\"product-modal-half\" class=\"quantity measurements prices-text\">" + item.half + "<br>" + item.halfprice + "</span>";
        itemOptions.replace(c);
    }

    if (item.oz) {
        var d = "<span id=\"product-modal-oz\" class=\"quantity measurements prices-text\">" + item.oz + "<br>" + item.ozprice + "</span>";
        itemOptions.replace(d);
    }

    if (item.one) {
        var e = "<span id=\"product-modal-one\" class=\"quantity measurements prices-text\">" + item.one + "<br>" + item.oneprice + "</span>";
        itemOptions.replace(e);
    }

    if (item.two) {
        var f = "<span id=\"product-modal-two\" class=\"quantity measurements prices-text\">" + item.two + "<br>" + item.twoprice + "</span>";
        itemOptions.replace(f);
    }

    if (item.per) {
        var g = "<span id=\"per\" class=\"quantity measurements prices-text\">" + item.per + "<br>" + item.price + "</span>";
        itemOptions.replace(g);
    }

    $('#product-modal').modal('open');
}

// show selection of quantity
function selectQuantity(){
  $(this).css({'background-color': '#AAAAAA', 'color': 'white'});
  $(this).siblings().css({'background-color': '#FFFFFF', 'color': 'black'});
}

$(document).ready(function () {
    /* Carousel */
    $('.carousel.carousel-slider').carousel({fullWidth: true});

    $(".menu-button").sideNav({
        menuWidth: 300,
        edge: 'left',
        closeOnClick: true,
        draggable: true
    });

    $('.cart-button').sideNav({
        menuWidth: 300,
        edge: 'right',
        closeOnClick: true,
        draggable: true
    });

    $('#product-modal').modal({
        dismissible: true,
        inDuration: 300,
        outDuration: 200,
        startingTop: '5%',
        endingTop: '5%',
        complete: function () {
            $('#product-modal-strain').remove();
            $('#product-modal-desc').remove();
            $('#product-modal-eighth').remove();
            $('#product-modal-fourth').remove();
            $('#product-modal-half').remove();
            $('#product-modal-oz').remove();
            $('#product-modal-one').remove();
            $('#product-modal-two').remove();
            $('#per').remove();
        }
    });

    $('#cart-modal').modal({
        dismissible: true,
        inDuration: 300,
        outDuration: 200,
        endingTop: '50%',
        ready: function (modal) {
            setTimeout(function () {
                $('#cart-modal').modal('close');
            }, 800); // slightly buggy, click add to cart, then click out, then click another one; it'll be hidden
        }
    });

    $('#delivery-area-modal').modal({
        dismissible: true,
        inDuration: 300,
        outDuration: 200,
        startingTop: '5%',
        endingTop: '5%'
    });

    $('#email-sub-modal').modal({
        dismissible: true,
        inDuration: 300,
        outDuration: 200,
        startingTop: '5%',
        endingTop: '5%'
    });

    $("#xaler-nav").click(function () {
        $('html, body').animate({
            scrollTop: $("#xaler-grown").offset().top - 40
        }, 500);
    });

    $("#menu-nav").click(function () {
        $('html, body').animate({
            scrollTop: $("#menu").offset().top - 40
        }, 500);
    });

    // Remove blank labeled buttons
  var quantityButton = document.querySelectorAll('.quantity');
  for(i = 0; i < quantityButton.length; i++){
    quantityButton[i].addEventListener('click', selectQuantity);
  }

});
