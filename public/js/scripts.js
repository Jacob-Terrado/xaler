/* Menu array */
var menu = [
    {
        "id": "0",
        "name": "KushCo OG",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$55",
        "fourthprice": "$110",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "dank"
    },
    {
        "id": "1",
        "name": "Skywalker OG",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$45",
        "fourthprice": "$90",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "2",
        "name": "Holy Grail OG",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "3",
        "name": "Pure OG",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$35",
        "fourthprice": "$65",
        "halfprice": "$120",
        "ozprice": "$200",
        "description": "hella dank"
    },
    {
        "id": "4",
        "name": "Pineapple Express",
        "type": "sativa",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$45",
        "fourthprice": "$90",
        "halfprice": "$160",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "5",
        "name": "Baby Blue",
        "type": "sativa",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$45",
        "fourthprice": "$90",
        "halfprice": "$160",
        "ozprice": "$260",
        "description": "hella dank"
    },
    {
        "id": "6",
        "name": "Banana Split",
        "type": "sativa",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$45",
        "fourthprice": "$90",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "7",
        "name": "Strawberry Banana",
        "type": "sativa",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "$150",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "8",
        "name": "Supreme Blue Dream",
        "type": "sativa",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "$140",
        "ozprice": "$260",
        "description": "hella dank"
    },
    {
        "id": "9",
        "name": "Thin Mint",
        "type": "Hybrid",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "$140",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "10",
        "name": "Forum Cookies",
        "type": "Hybrid",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "$140",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "11",
        "name": "Purple Kryptonite",
        "type": "Hybrid",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "$150",
        "ozprice": "$260",
        "description": "hella dank"
    },
    {
        "id": "12",
        "name": "Nug Run - White Walker (Shatter)",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$26",
        "oneprice": "$48",
        "twoprice": "$92",
        "description": "hella dank"
    },
    {
        "id": "13",
        "name": "Skywalker OG Shatter",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$45",
        "twoprice": "$85",
        "description": "hella dank"
    },
    {
        "id": "14",
        "name": "Green Crack Shatter",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$45",
        "twoprice": "$85",
        "description": "hella dank"
    },
    {
        "id": "15",
        "name": "Animal Spirits - Holy Grail OG Vape Cartridge",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$40",
        "twoprice": "$92",
        "description": "hella dank"
    },
    {
        "id": "16",
        "name": "Animal Spirits - Girl Scout Cookies Vape Cartridge",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$40",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "17",
        "name": "Animal Spirits - Blue Dream Vape Cartridge",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$40",
        "twoprice": "$80",
        "description": "hella dank"
    },
    {
        "id": "18",
        "name": "Blue Dream Shatter",
        "type": "concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "$25",
        "oneprice": "$45",
        "twoprice": "$85",
        "description": "hella dank"
    },
    {
        "id": "19",
        "name": "Brass Knuckles - Jack Herer",
        "type": "sativa concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "20",
        "name": "Brass Knuckles - Strawberry Cough",
        "type": "sativa concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "21",
        "name": "Brass Knuckles - Candy Apple",
        "type": "hybrid concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "22",
        "name": "Brass Knuckles - Blue Dream",
        "type": "sativa concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "23",
        "name": "Brass Knuckles - Gorilla Glue",
        "type": "hybrid concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "24",
        "name": "Brass Knuckles - Girl Scout Cookies",
        "type": "hybrid concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "25",
        "name": "Brass Knuckles - Raw",
        "type": "hybrid concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "26",
        "name": "Brass Knuckles - Abracadabra",
        "type": "hybrid concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "27",
        "name": "Brass Knuckles - Blueberry",
        "type": "indica concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "28",
        "name": "Brass Knuckles - Grape Ape",
        "type": "indica concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "29",
        "name": "Brass Knuckles - Purple Haze",
        "type": "sativa concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "30",
        "name": "Brass Knuckles - SFV OG",
        "type": "indica concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "31",
        "name": "Brass Knuckles - Skywalker OG",
        "type": "indica concentrate",
        "half": "0.5 g",
        "one": "1 g",
        "two": "2 g",
        "halfprice": "- - -",
        "oneprice": "$60",
        "twoprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "32",
        "name": "Kiva - Ginger Dark Chocolate",
        "type": "edible",
        "per": "each",
        "price": "$32",
        "description": "hella dank"
    },
    {
        "id": "33",
        "name": "Kiva Bar - 4 Flavors",
        "type": "edible",
        "per": "each",
        "price": "$20",
        "description": "hella dank"
    },
    {
        "id": "34",
        "name": "Kiva - Expresso Dark Chocolate",
        "type": "edible",
        "per": "each",
        "price": "$20",
        "description": "hella dank"
    },
    {
        "id": "35",
        "name": "Kiva - Terra Bites - Expresso Beans",
        "type": "edible",
        "per": "each",
        "price": "$18",
        "description": "hella dank"
    },
    {
        "id": "36",
        "name": "Kiva - Terra Bites - Blueberries",
        "type": "edible",
        "per": "each",
        "price": "$18",
        "description": "hella dank"
    },
    {
        "id": "37",
        "name": "Kiva Bar",
        "type": "edible",
        "per": "each",
        "price": "$18",
        "description": "hella dank"
    },
    {
        "id": "38",
        "name": "HealthCare Bar - Vegan",
        "type": "edible",
        "per": "each",
        "price": "$10",
        "description": "hella dank"
    },
    {
        "id": "39",
        "name": "Brass Knuckes - Adjustable Voltage Gold Battery",
        "type": "gear",
        "per": "each",
        "price": "$30",
        "description": "hella dank"
    },
    {
        "id": "40",
        "name": "Brass Knuckes - Gold Vape Battery",
        "type": "gear",
        "per": "each",
        "price": "$25",
        "description": "hella dank"
    },
    {
        "id": "41",
        "name": "Brass Knuckes - Woodgrain Battery",
        "type": "gear",
        "per": "each",
        "price": "$25",
        "description": "hella dank"
    },
    {
        "id": "42",
        "name": "Mulholland OG",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$55",
        "fourthprice": "$110",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank",
    },
    {
        "id": "43",
        "name": "Girl Scout Cookies",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$45",
        "fourthprice": "$90",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "44",
        "name": "White Walker",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$40",
        "fourthprice": "$80",
        "halfprice": "- - -",
        "ozprice": "- - -",
        "description": "hella dank"
    },
    {
        "id": "45",
        "name": "Sunset Sherbet",
        "type": "indica",
        "eighth": "1/8 oz",
        "fourth": "1/4 oz",
        "half": "1/2 oz",
        "oz": "1 oz",
        "eighthprice": "$35",
        "fourthprice": "$65",
        "halfprice": "$120",
        "ozprice": "$200",
        "description": "hella dank"
    }
];

/* Opens home */
function home() {
    window.location.href = "/";
}

/* Opens Product Modal */
function openProductModal(id) {
    var item = menu[id];
    var name = $('#product-modal-name');

    name.html(item.name);

    if (item.description) {
        $('#product-modal-desc').html(item.description);
    }

    if (item.type) {
        $('#product-modal-strain').html(item.type);
    }

    if (!(item.eighth)) {
        $('#product-modal-eighth').addClass('hide');
    }else{
        $('#product-modal-eighth').removeClass('hide');
        $('#product-modal-eighth').html(item.eighth + '<br>' + item.eighthprice);
    }

    if (!(item.fourth)) {
        $('#product-modal-fourth').addClass('hide');
    }else{
        $('#product-modal-fourth').removeClass('hide');
        $('#product-modal-fourth').html(item.fourth + "<br>" + item.fourthprice);
    }

    if (!(item.half)) {
        $('#product-modal-half').addClass('hide');
    }else{
        $('#product-modal-half').removeClass('hide');
        $('#product-modal-half').html(item.half + "<br>" + item.halfprice);
    }

    if (!(item.oz)){
        $('#product-modal-oz').addClass('hide');
    }
    else{
        $('#product-modal-oz').removeClass('hide');
        $('#product-modal-oz').html(item.oz + "<br>" + item.ozprice);
    }

    if (!(item.one)){
        $('#product-modal-one').addClass('hide');
    }
    else{
        $('#product-modal-one').removeClass('hide');
        $('#product-modal-one').html(item.one + "<br>" + item.oneprice);
    }

    if (!(item.two)){
        $('#product-modal-two').addClass('hide');
    } else{
        $('#product-modal-two').removeClass('hide');
        $('#product-modal-two').html(item.two + "<br>" + item.twoprice);
    }

    if (!(item.per)){
        $('#product-modal-per').addClass('hide');
    } else{
        $('#product-modal-per').removeClass('hide');
        $('#product-modal-per').html(item.per + "<br>" + item.price);
    }

    $('#product-modal').modal('open');

    var quantityButton = document.querySelectorAll('#product-modal .quantity');
    for(i = 0; i < quantityButton.length; i++){
      quantityButton[i].addEventListener('click', selectQuantity);
    }
}

// show selection of quantity
function selectQuantity(){
  $(this).css({'background-color': '#AAAAAA', 'color': 'white'});
  $(this).siblings().css({'background-color': '#FFFFFF', 'color': 'black'});
}

// close product modal when open cart modal
function closeModal(){
  $('#product-modal').modal('close');
  $('#cart-modal').modal('open');
}

$(document).ready(function () {
    /* Carousel */
    $('.carousel.carousel-slider').carousel({fullWidth: true});

    $(".menu-button").sideNav({
        menuWidth: 300,
        edge: 'left',
        closeOnClick: true,
        draggable: true
    });

    $('.cart-button').sideNav({
        menuWidth: 300,
        edge: 'right',
        closeOnClick: true,
        draggable: true
    });

    $('#product-modal').modal({
        dismissible: true,
        inDuration: 300,
        outDuration: 200,
        endingTop: '50%',
        complete: function () {
            // $('#product-modal-strain').remove();
            // $('#product-modal-desc').remove();
            // $('#product-modal-eighth').remove();
            // $('#product-modal-fourth').remove();
            // $('#product-modal-half').remove();
            // $('#product-modal-oz').remove();
            // $('#product-modal-one').remove();
            // $('#product-modal-two').remove();
            // $('#product-modal-per').remove();
        }
    });

    $('#cart-modal').modal({
        dismissible: true,
        inDuration: 300,
        outDuration: 200,
        endingTop: '50%',
        ready: function (modal) {
            setTimeout(function () {
                $('#cart-modal').modal('close');
            }, 800); // slightly buggy, click add to cart, then click out, then click another one; it'll be hidden
        }
    });

    $('#delivery-area-modal').modal({
        dismissible: true,
        inDuration: 300,
        outDuration: 200,
        startingTop: '5%',
        endingTop: '5%'
    });

    $('#email-sub-modal').modal({
        dismissible: true,
        inDuration: 300,
        outDuration: 200,
        startingTop: '5%',
        endingTop: '5%'
    });

    $("#xaler-nav").click(function () {
        $('html, body').animate({
            scrollTop: $("#xaler-grown").offset().top - 40
        }, 500);
    });

    $("#menu-nav").click(function () {
        $('html, body').animate({
            scrollTop: $("#menu").offset().top - 40
        }, 500);
    });

    // Remove blank labeled buttons
    var quantityButton = document.querySelectorAll('#indexProduct .quantity');
    for(i = 0; i < quantityButton.length; i++){
      quantityButton[i].addEventListener('click', selectQuantity);
      // if(quantityButton[i].textContent == ''){
      //   quantityButton[i].style.display = 'none';
      // }
    }




  //close Modal when add to cart
  $('#product-modal .add-cart-btn').click(closeModal);

});
